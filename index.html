<!DOCTYPE html>

<html lang="es">

<head>

<meta charset="UTF-8">

<title>San ValentÃ­n ğŸ’–</title>

<style>

body{

  margin:0;

  background:#ffd6e7;

  font-family:Arial, Helvetica, sans-serif;

  overflow:hidden;

  text-align:center;

}

.contenedor{

  position:absolute;

  top:50%;

  left:50%;

  transform:translate(-50%,-50%);

  background:white;

  padding:35px 55px;

  border-radius:20px;

  box-shadow:0 0 20px rgba(0,0,0,0.2);

}

button{

  padding:15px 25px;

  font-size:18px;

  margin:10px;

  border:none;

  border-radius:15px;

  cursor:pointer;

  background:white;

  box-shadow:0 0 10px rgba(0,0,0,0.2);

}

#mensaje{

  margin-top:20px;

  font-size:20px;

  font-weight:bold;

}

/* imÃ¡genes esquinas */

.corner{
  position:fixed;
  width:180px;
  background:transparent;
  mix-blend-mode: multiply;
  filter: drop-shadow(0 0 2px rgba(0,0,0,0.15));
}

.tl{top:20px; left:20px;}

.tr{top:20px; right:20px;}

.bl{bottom:20px; left:20px;}

.br{bottom:20px; right:20px;}

/* lluvia */

.falling{

  position:fixed;

  top:-50px;

  font-size:28px;

  animation:fall linear infinite;

}

@keyframes fall{to{transform:translateY(110vh);}}

/* sacudir */

.shake{animation:shake 0.2s infinite;}

@keyframes shake{

 0%{transform:translate(0,0)}

 25%{transform:translate(3px,-3px)}

 50%{transform:translate(-3px,3px)}

 75%{transform:translate(3px,3px)}

 100%{transform:translate(-3px,-3px)}

}

/* explosiÃ³n */

.piece{

  position:fixed;

  background:white;

  width:12px;

  height:12px;

  border-radius:3px;

}

</style>

</head>

<body>

<!-- ğŸµ MÃšSICA -->

<iframe id="music" width="0" height="0"

src="https://www.youtube.com/embed/Ez5WYnOJgD4?enablejsapi=1"

allow="autoplay"></iframe>

<!-- IMÃGENES -->

<img src="imagen1.png" class="corner tl">

<img src="imagen2.png" class="corner tr">

<img src="imagen3.png" class="corner bl">

<img src="imagen4.png" class="corner br">

<div class="contenedor">

  <h2>Hola, Lilianita, tengo una pregunta para tiâ€¦</h2>

  <h1>Â¿Quieres ser mi San ValentÃ­n? â¤ï¸</h1>

  <button id="si">SÃ­</button>

  <button id="no">No</button>

  <div id="mensaje"></div>

</div>

<script>

let siCount=0,noCount=0,musicStarted=false;

const noBtn=document.getElementById("no");

const siBtn=document.getElementById("si");

const msg=document.getElementById("mensaje");

const player=document.getElementById("music");

/* ğŸµ iniciar mÃºsica */

function startMusic(){

 if(!musicStarted){

   player.src+="&autoplay=1";

   musicStarted=true;

 }

}

/* lluvia */

function rain(){

 const items=["â¤ï¸","ğŸŒ·","ğŸŒ¹","â˜€ï¸"];

 setInterval(()=>{

  const el=document.createElement("div");

  el.className="falling";

  el.innerText=items[Math.floor(Math.random()*items.length)];

  el.style.left=Math.random()*100+"vw";

  el.style.animationDuration=(4+Math.random()*3)+"s";

  document.body.appendChild(el);

  setTimeout(()=>el.remove(),7000);

 },300);

}

/* explotar botÃ³n no */

function explodeButton(){

 const rect=noBtn.getBoundingClientRect();

 for(let i=0;i<40;i++){

  const piece=document.createElement("div");

  piece.className="piece";

  piece.style.left=rect.left+rect.width/2+"px";

  piece.style.top=rect.top+rect.height/2+"px";

  document.body.appendChild(piece);

  const angle=Math.random()*360;

  const dist=200+Math.random()*200;

  piece.animate([

    {transform:"translate(0,0)",opacity:1},

    {transform:`translate(${Math.cos(angle)*dist}px,${Math.sin(angle)*dist}px)`,opacity:0}

  ],{duration:900});

  setTimeout(()=>piece.remove(),900);

 }

 noBtn.style.display="none";

 siCount=0;

 msg.innerText="Â¿Y si mejor intentas el botÃ³n Â«SÃ­Â»? ğŸ˜";

}

/* botÃ³n sÃ­ */

siBtn.onclick=()=>{

 startMusic();

 siCount++;

 if(siCount==1) msg.innerText="Error, toca nuevamente el botÃ³n.";

 else if(siCount==2) msg.innerText="Cargando el mensaje, por favor, espera un momento â³.";

 else if(siCount==3) msg.innerText="Â¿EstÃ¡s apurada? SÃ© paciente ğŸ—£ï¸.";

 else if(siCount==4){

  msg.innerText="SabÃ­a que dirÃ­as que sÃ­. Te amo mucho, mi trujillanita hermosa. Â¡Feliz San ValentÃ­n! ğŸ¥ºâ¤ï¸ Espero que te guste todo esto :3 â¤ï¸";

  rain();

  noBtn.style.display="inline-block";

  noBtn.classList.remove("shake");

  noCount=0;

 }

}

/* botÃ³n no */

noBtn.onclick=()=>{

 startMusic();

 noCount++;

 if(noCount==1) msg.innerText="Â¿Segura? ğŸ™‚";

 else if(noCount==2) msg.innerText="Â¿Por quÃ© no? ğŸ¤”";

 else if(noCount==3) msg.innerText="Â¿Segura de que no quieres serlo? ğŸ™‚";

 else if(noCount==4){

  msg.innerText="";

  noBtn.classList.add("shake");

  setTimeout(explodeButton,900);

 }

}

</script>

</body>

</html>
